import React, { useState } from 'react';\nimport { Download, Package, FileText, Code, Database, Smartphone, AlertCircle } from 'lucide-react';\nimport { toast } from 'sonner';\n\nconst ProjectDownload = () => {\n  const [downloading, setDownloading] = useState(false);\n\n  const handleDownload = async () => {\n    setDownloading(true);\n    \n    try {\n      const token = localStorage.getItem('admin_token');\n      const response = await fetch(`${process.env.REACT_APP_BACKEND_URL}/api/download/project`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        // Criar blob do arquivo\n        const blob = await response.blob();\n        \n        // Criar URL temporária\n        const url = window.URL.createObjectURL(blob);\n        \n        // Criar elemento de link temporário para download\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'gradianet-completo.zip';\n        document.body.appendChild(a);\n        a.click();\n        \n        // Limpar\n        document.body.removeChild(a);\n        window.URL.revokeObjectURL(url);\n        \n        toast.success('Download iniciado com sucesso!');\n      } else {\n        toast.error('Erro ao gerar arquivo de download');\n      }\n    } catch (error) {\n      toast.error('Erro de conexão');\n    } finally {\n      setDownloading(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6 fade-in-up\">\n      {/* Header */}\n      <div className=\"glass-card rounded-3xl p-6\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <Package className=\"w-6 h-6 text-cyber-red\" />\n          <h1 className=\"text-xl font-unbounded font-bold text-text-primary\">\n            DOWNLOAD DO PROJETO\n          </h1>\n        </div>\n        <p className=\"text-text-secondary font-mono text-sm\">\n          Baixe o código completo do sistema Gradianet\n        </p>\n      </div>\n\n      {/* Informações do Sistema */}\n      <div className=\"glass-card rounded-3xl p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <Code className=\"w-5 h-5 text-cyber-green\" />\n          <h3 className=\"font-unbounded font-bold text-lg text-text-primary\">\n            SISTEMA COMPLETO\n          </h3>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Backend */}\n          <div className=\"p-4 bg-void-highlight rounded-lg\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-3 h-3 bg-cyber-red rounded-full\" />\n              <span className=\"font-mono text-sm text-text-primary font-bold\">BACKEND</span>\n            </div>\n            <div className=\"text-xs text-text-secondary font-mono space-y-1\">\n              <p>• FastAPI + Python</p>\n              <p>• 15 APIs funcionando</p>\n              <p>• Autenticação JWT</p>\n              <p>• Discord API integration</p>\n            </div>\n          </div>\n          \n          {/* Frontend */}\n          <div className=\"p-4 bg-void-highlight rounded-lg\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-3 h-3 bg-cyber-green rounded-full\" />\n              <span className=\"font-mono text-sm text-text-primary font-bold\">FRONTEND</span>\n            </div>\n            <div className=\"text-xs text-text-secondary font-mono space-y-1\">\n              <p>• React + TailwindCSS</p>\n              <p>• Interface mobile-first</p>\n              <p>• Tema cyberpunk</p>\n              <p>• Shadcn/UI components</p>\n            </div>\n          </div>\n          \n          {/* Database */}\n          <div className=\"p-4 bg-void-highlight rounded-lg\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-3 h-3 bg-cyber-yellow rounded-full\" />\n              <span className=\"font-mono text-sm text-text-primary font-bold\">DATABASE</span>\n            </div>\n            <div className=\"text-xs text-text-secondary font-mono space-y-1\">\n              <p>• JSON files estruturados</p>\n              <p>• wio.db compatível</p>\n              <p>• Dados de exemplo</p>\n              <p>• Sistema de backup</p>\n            </div>\n          </div>\n          \n          {/* Bot Discord */}\n          <div className=\"p-4 bg-void-highlight rounded-lg\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"w-3 h-3 bg-text-primary rounded-full\" />\n              <span className=\"font-mono text-sm text-text-primary font-bold\">BOT DISCORD</span>\n            </div>\n            <div className=\"text-xs text-text-secondary font-mono space-y-1\">\n              <p>• Node.js + Discord.js v14</p>\n              <p>• Components v2</p>\n              <p>• Sistema de tickets</p>\n              <p>• Notificações automáticas</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Funcionalidades */}\n      <div className=\"glass-card rounded-3xl p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <Smartphone className=\"w-5 h-5 text-cyber-red\" />\n          <h3 className=\"font-unbounded font-bold text-lg text-text-primary\">\n            FUNCIONALIDADES INCLUÍDAS\n          </h3>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm font-mono\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-cyber-green rounded-full\" />\n            <span className=\"text-text-secondary\">Dashboard com estatísticas em tempo real</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-cyber-green rounded-full\" />\n            <span className=\"text-text-secondary\">Gerenciamento de saldo (add/remove)</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-cyber-green rounded-full\" />\n            <span className=\"text-text-secondary\">Status real do bot Discord</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-cyber-green rounded-full\" />\n            <span className=\"text-text-secondary\">Configuração de tickets dinâmicos</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-cyber-green rounded-full\" />\n            <span className=\"text-text-secondary\">Gerência de cargos automáticos</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-cyber-green rounded-full\" />\n            <span className=\"text-text-secondary\">Sistema de configuração de pagamentos</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-cyber-green rounded-full\" />\n            <span className=\"text-text-secondary\">Logs e histórico completo</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-cyber-green rounded-full\" />\n            <span className=\"text-text-secondary\">Interface mobile cyberpunk</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Informações de Login */}\n      <div className=\"glass-card rounded-3xl p-6 border-cyber-yellow/30\">\n        <div className=\"flex items-start gap-3\">\n          <AlertCircle className=\"w-5 h-5 text-cyber-yellow flex-shrink-0 mt-0.5\" />\n          <div>\n            <h4 className=\"font-unbounded font-bold text-cyber-yellow mb-2\">\n              CREDENCIAIS DE ACESSO\n            </h4>\n            <div className=\"space-y-1 text-sm font-mono text-text-secondary\">\n              <p>• <strong className=\"text-cyber-yellow\">Usuário:</strong> vovo</p>\n              <p>• <strong className=\"text-cyber-yellow\">Senha:</strong> 2210DORRY90</p>\n              <p>• <strong className=\"text-cyber-yellow\">Backend:</strong> http://localhost:8001</p>\n              <p>• <strong className=\"text-cyber-yellow\">Frontend:</strong> http://localhost:3000</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Botão de Download */}\n      <div className=\"glass-card rounded-3xl p-6 text-center\">\n        <div className=\"mb-4\">\n          <FileText className=\"w-12 h-12 text-cyber-red mx-auto mb-2\" />\n          <h3 className=\"font-unbounded font-bold text-lg text-text-primary\">\n            PROJETO COMPLETO\n          </h3>\n          <p className=\"text-text-secondary font-mono text-sm\">\n            Arquivo ZIP com todo o código fonte e documentação\n          </p>\n        </div>\n        \n        <button\n          onClick={handleDownload}\n          disabled={downloading}\n          data-testid=\"download-project-button\"\n          className=\"w-full cyber-btn py-4 rounded-full disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-lg\"\n        >\n          {downloading ? (\n            <>\n              <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n              GERANDO DOWNLOAD...\n            </>\n          ) : (\n            <>\n              <Download className=\"w-5 h-5\" />\n              BAIXAR GRADIANET COMPLETO\n            </>\n          )}\n        </button>\n        \n        <div className=\"mt-4 text-xs font-mono text-text-dim\">\n          O download incluirá todo o código fonte, documentação e instruções de instalação\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectDownload;